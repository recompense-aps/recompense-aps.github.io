// Generated by CoffeeScript 1.12.1
(function() {
  var AttackState, EnterState, exports,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  exports = this;

  exports.Enemy = (function(superClass) {
    extend(Enemy, superClass);

    Enemy.prototype.ENEMY = true;

    Enemy.prototype.textureName = "enemy-default";

    Enemy.prototype.powerupGenerator = null;

    Enemy.prototype.positionTarget = null;

    Enemy.prototype.velocity = 0.2;

    Enemy.prototype.startVelocity = 0.5;

    Enemy.prototype.attackDistance = 500;

    Enemy.prototype.hp = 1;

    Enemy.prototype.points = 10;

    Enemy.prototype.damage = 10;

    function Enemy(game, x, y) {
      var dir;
      Enemy.__super__.constructor.call(this, game, x, y);
      this.Bind.Texture(this.textureName);
      this.Size.Scale(1, 1);
      dir = this.GetMothershipVector();
      dir.MultiplyScalar(this.startVelocity);
      this.rotation = -dir.angle;
      this.Body.velocity.Set(dir.x, dir.y);
      this.powerupGenerator = new PowerupGenerator(this);
      this.mode = this.States.CreateStateMachine("Mode");
      this.mode.AddState("enter", new EnterState());
      this.mode.AddState("attack", new AttackState());
      this.mode.Switch("enter");
      this.On("Damaged", (function(_this) {
        return function(event) {
          return _this.hp -= event.damage;
        };
      })(this));
    }

    Enemy.Load = function(game) {
      game.Load.Texture("Assets/Art/PNG/Enemies/enemyBlack4.png", "enemy-default");
      return game.Load.Texture("Assets/Art/PNG/Enemies/enemyBlack1.png", "enemy-shooter");
    };

    Enemy.prototype.Kill = function() {
      this.game.effectGenerator.CreateSimpleExplosion(this.position.x, this.position.y);
      this.emitter = this.game.Particles.ParticleEmitter(500, 0, 0, true, this.textureName, {
        spread: 20,
        gravity: 0.0001,
        minAngle: 0,
        maxAngle: Math.PI * 2,
        minScale: 0.01,
        maxScale: 0.05,
        minVelocity: 0.01,
        maxVelocity: 0.01,
        minAlphaDecay: 400,
        maxAlphaDecay: 450,
        minOmega: 0.001,
        maxOmega: 0.001
      });
      this.emitter.auto = false;
      this.emitter.position = this.position.Clone();
      this.Trash();
      if (Math.random() < 0.2) {
        return this.powerupGenerator.Generate();
      }
    };

    Enemy.prototype.Update = function() {
      Enemy.__super__.Update.call(this);
      if (this.hp <= 0) {
        this.Kill();
        return this.game.score += 10;
      }
    };

    Enemy.prototype.StageAttack = function() {
      return this.Effects.Trail();
    };

    Enemy.prototype.GetMothershipVector = function() {
      var dir;
      dir = this.position.Clone();
      dir.SubtractVector(this.game.motherShip.position);
      dir.MultiplyScalar(-1);
      dir.Normalize();
      return dir;
    };

    Enemy.prototype.GetDistanceToMotherShipCenter = function() {
      var dis, ms;
      dis = this.position.Clone();
      ms = this.game.motherShip.position.Clone();
      ms.x += this.game.motherShip.rectangle.width / 2;
      ms.y += this.game.motherShip.rectangle.height / 2;
      dis.SubtractVector(ms);
      return dis.magnitude;
    };

    return Enemy;

  })(Torch.Sprite);

  exports.DiverEnemy = (function(superClass) {
    extend(DiverEnemy, superClass);

    DiverEnemy.prototype.startVelocity = 0.2;

    DiverEnemy.prototype.attackVelocity = 0.4;

    DiverEnemy.prototype.attackDistance = 300;

    function DiverEnemy(game, x, y) {
      DiverEnemy.__super__.constructor.call(this, game, x, y);
      this.Collisions.Monitor();
      this.On("Collision", (function(_this) {
        return function(event) {
          var obj;
          obj = event.collisionData.collider;
          if (obj.MOTHERSHIP) {
            obj.Emit("Damaged", {
              damage: _this.damage
            });
            return _this.Kill();
          }
        };
      })(this));
    }

    DiverEnemy.prototype.StageAttack = function() {
      DiverEnemy.__super__.StageAttack.call(this);
      this.Body.velocity.Normalize();
      return this.Body.velocity.MultiplyScalar(this.attackVelocity);
    };

    return DiverEnemy;

  })(exports.Enemy);

  exports.ShooterEnemy = (function(superClass) {
    extend(ShooterEnemy, superClass);

    ShooterEnemy.prototype.points = 20;

    ShooterEnemy.prototype.hp = 2;

    ShooterEnemy.prototype.textureName = "enemy-shooter";

    function ShooterEnemy(game, x, y) {
      ShooterEnemy.__super__.constructor.call(this, game, x, y);
    }

    ShooterEnemy.prototype.Update = function() {
      var angle, p;
      ShooterEnemy.__super__.Update.call(this);
      p = this.position.Clone();
      p.SubtractVector(this.game.motherShip.position);
      angle = p.angle - Math.PI;
      return this.rotation = -angle;
    };

    ShooterEnemy.prototype.StageAttack = function() {
      var scheduledEvent;
      this.orbit = true;
      this.Effects.Trail();
      this.Body.velocity.Set(0, 0);
      this.Body.Orbit(this.game.motherShip, 0.001, 400);
      scheduledEvent = this.game.Timer.SetScheduledEvent(300, (function(_this) {
        return function() {
          var cordX, cordY, p, p1, rot, x, y;
          p = _this.position.Clone();
          p.SubtractVector(_this.game.motherShip.position);
          p.Normalize();
          p.MultiplyScalar(-1.5);
          rot = _this.rotation - Math.PI / 2;
          cordX = Math.cos(rot);
          cordY = Math.sin(rot);
          x = _this.position.x + ((_this.rectangle.width / 2) * cordX) + _this.rectangle.width / 2;
          y = _this.position.y + ((_this.rectangle.height / 2) * cordY) + _this.rectangle.height / 2;
          x -= cordX * _this.rectangle.width;
          y -= cordY * _this.rectangle.height;
          p1 = new ShooterEnemyProjectile(_this, {
            direction: p,
            x: x,
            y: y
          });
          p1.position.x -= p1.rectangle.width / 2;
          p1.position.y -= p1.rectangle.height / 2;
          return p1.drawIndex = -1;
        };
      })(this));
      return this.On("Trash", function() {
        return scheduledEvent.Trash();
      });
    };

    return ShooterEnemy;

  })(exports.Enemy);

  EnterState = (function() {
    function EnterState() {}

    EnterState.prototype.Execute = function(enemy) {
      if (enemy.GetDistanceToMotherShipCenter() <= enemy.attackDistance) {
        return this.stateMachine.Switch("attack");
      }
    };

    EnterState.prototype.Start = function(enemy) {};

    EnterState.prototype.End = function(enemy) {};

    return EnterState;

  })();

  AttackState = (function() {
    function AttackState() {}

    AttackState.prototype.Execute = function(enemy) {};

    AttackState.prototype.Start = function(enemy) {
      return enemy.StageAttack();
    };

    AttackState.prototype.End = function(enemy) {};

    return AttackState;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5lbXkuanMiLCJzb3VyY2VSb290IjoiLi5cXC4uXFwuLiIsInNvdXJjZXMiOlsiR2FtZXNcXE9wZW5TcGFjZVxcU3JjXFxFbmVteS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUEsTUFBQSxnQ0FBQTtJQUFBOzs7RUFBQSxPQUFBLEdBQVU7O0VBRUosT0FBTyxDQUFDOzs7b0JBQ1YsS0FBQSxHQUFPOztvQkFDUCxXQUFBLEdBQWE7O29CQUNiLGdCQUFBLEdBQWtCOztvQkFDbEIsY0FBQSxHQUFnQjs7b0JBQ2hCLFFBQUEsR0FBVTs7b0JBQ1YsYUFBQSxHQUFlOztvQkFDZixjQUFBLEdBQWdCOztvQkFDaEIsRUFBQSxHQUFJOztvQkFDSixNQUFBLEdBQVE7O29CQUNSLE1BQUEsR0FBUTs7SUFDSyxlQUFDLElBQUQsRUFBTyxDQUFQLEVBQVUsQ0FBVjtBQUNULFVBQUE7TUFBQSx1Q0FBTyxJQUFQLEVBQWEsQ0FBYixFQUFnQixDQUFoQjtNQUVBLElBQUMsQ0FBQSxJQUFJLENBQUMsT0FBTixDQUFjLElBQUMsQ0FBQSxXQUFmO01BQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxLQUFOLENBQVksQ0FBWixFQUFjLENBQWQ7TUFFQSxHQUFBLEdBQU0sSUFBQyxDQUFBLG1CQUFELENBQUE7TUFDTixHQUFHLENBQUMsY0FBSixDQUFvQixJQUFDLENBQUEsYUFBckI7TUFDQSxJQUFDLENBQUEsUUFBRCxHQUFZLENBQUMsR0FBRyxDQUFDO01BRWpCLElBQUMsQ0FBQSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQWYsQ0FBb0IsR0FBRyxDQUFDLENBQXhCLEVBQTJCLEdBQUcsQ0FBQyxDQUEvQjtNQUVBLElBQUMsQ0FBQSxnQkFBRCxHQUF3QixJQUFBLGdCQUFBLENBQWlCLElBQWpCO01BQ3hCLElBQUMsQ0FBQSxJQUFELEdBQVEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxrQkFBUixDQUEyQixNQUEzQjtNQUNSLElBQUMsQ0FBQSxJQUFJLENBQUMsUUFBTixD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LEtBQUQ7TUFDTCxJQUFHLEtBQUssQ0FBQyw2QkFBTixDQUFBLENBQUEsSUFBeUMsS0FBSyxDQUFDLGNBQWxEO2VBQ0ksSUFBQyxDQUFBLFlBQVksQ0FBQyxNQUFkLENBQXFCLFFBQXJCLEVBREo7O0lBREs7O3lCQUlULEtBQUEsR0FBTyxTQUFDLEtBQUQsR0FBQTs7eUJBRVAsR0FBQSxHQUFLLFNBQUMsS0FBRCxHQUFBOzs7Ozs7RUFFSDs7OzBCQUNGLE9BQUEsR0FBUyxTQUFDLEtBQUQsR0FBQTs7MEJBRVQsS0FBQSxHQUFPLFNBQUMsS0FBRDthQUNILEtBQUssQ0FBQyxXQUFOLENBQUE7SUFERzs7MEJBR1AsR0FBQSxHQUFLLFNBQUMsS0FBRCxHQUFBOzs7OztBQXBMVCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSB0aGlzXHJcblxyXG5jbGFzcyBleHBvcnRzLkVuZW15IGV4dGVuZHMgVG9yY2guU3ByaXRlXHJcbiAgICBFTkVNWTogdHJ1ZVxyXG4gICAgdGV4dHVyZU5hbWU6IFwiZW5lbXktZGVmYXVsdFwiXHJcbiAgICBwb3dlcnVwR2VuZXJhdG9yOiBudWxsXHJcbiAgICBwb3NpdGlvblRhcmdldDogbnVsbFxyXG4gICAgdmVsb2NpdHk6IDAuMlxyXG4gICAgc3RhcnRWZWxvY2l0eTogMC41XHJcbiAgICBhdHRhY2tEaXN0YW5jZTogNTAwXHJcbiAgICBocDogMVxyXG4gICAgcG9pbnRzOiAxMFxyXG4gICAgZGFtYWdlOiAxMFxyXG4gICAgY29uc3RydWN0b3I6IChnYW1lLCB4LCB5KSAtPlxyXG4gICAgICAgIHN1cGVyKCBnYW1lLCB4LCB5IClcclxuXHJcbiAgICAgICAgQEJpbmQuVGV4dHVyZShAdGV4dHVyZU5hbWUpXHJcbiAgICAgICAgQFNpemUuU2NhbGUoMSwxKVxyXG5cclxuICAgICAgICBkaXIgPSBAR2V0TW90aGVyc2hpcFZlY3RvcigpXHJcbiAgICAgICAgZGlyLk11bHRpcGx5U2NhbGFyKCBAc3RhcnRWZWxvY2l0eSApXHJcbiAgICAgICAgQHJvdGF0aW9uID0gLWRpci5hbmdsZVxyXG5cclxuICAgICAgICBAQm9keS52ZWxvY2l0eS5TZXQoIGRpci54LCBkaXIueSApXHJcblxyXG4gICAgICAgIEBwb3dlcnVwR2VuZXJhdG9yID0gbmV3IFBvd2VydXBHZW5lcmF0b3IoQClcclxuICAgICAgICBAbW9kZSA9IEBTdGF0ZXMuQ3JlYXRlU3RhdGVNYWNoaW5lKFwiTW9kZVwiKVxyXG4gICAgICAgIEBtb2RlLkFkZFN0YXRlKFwiZW50ZXJcIiwgbmV3IEVudGVyU3RhdGUoKSApXHJcbiAgICAgICAgQG1vZGUuQWRkU3RhdGUoXCJhdHRhY2tcIiwgbmV3IEF0dGFja1N0YXRlKCkgKVxyXG4gICAgICAgIEBtb2RlLlN3aXRjaChcImVudGVyXCIpXHJcblxyXG4gICAgICAgIEBPbiBcIkRhbWFnZWRcIiwgKGV2ZW50KSA9PlxyXG4gICAgICAgICAgICBAaHAgLT0gZXZlbnQuZGFtYWdlXHJcblxyXG4gICAgQExvYWQ6IChnYW1lKSAtPlxyXG4gICAgICAgIGdhbWUuTG9hZC5UZXh0dXJlKFwiQXNzZXRzL0FydC9QTkcvRW5lbWllcy9lbmVteUJsYWNrNC5wbmdcIiwgXCJlbmVteS1kZWZhdWx0XCIpXHJcbiAgICAgICAgZ2FtZS5Mb2FkLlRleHR1cmUoXCJBc3NldHMvQXJ0L1BORy9FbmVtaWVzL2VuZW15QmxhY2sxLnBuZ1wiLCBcImVuZW15LXNob290ZXJcIilcclxuXHJcbiAgICBLaWxsOiAtPlxyXG4gICAgICAgIEBnYW1lLmVmZmVjdEdlbmVyYXRvci5DcmVhdGVTaW1wbGVFeHBsb3Npb24oIEBwb3NpdGlvbi54LCBAcG9zaXRpb24ueSApXHJcbiAgICAgICAgQGVtaXR0ZXIgPSBAZ2FtZS5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyIDUwMCwgMCwgMCwgdHJ1ZSwgQHRleHR1cmVOYW1lLFxyXG4gICAgICAgICAgICBzcHJlYWQ6IDIwXHJcbiAgICAgICAgICAgIGdyYXZpdHk6IDAuMDAwMVxyXG4gICAgICAgICAgICBtaW5BbmdsZTogMFxyXG4gICAgICAgICAgICBtYXhBbmdsZTogTWF0aC5QSSAqIDJcclxuICAgICAgICAgICAgbWluU2NhbGU6IDAuMDFcclxuICAgICAgICAgICAgbWF4U2NhbGU6IDAuMDVcclxuICAgICAgICAgICAgbWluVmVsb2NpdHk6IDAuMDFcclxuICAgICAgICAgICAgbWF4VmVsb2NpdHk6IDAuMDFcclxuICAgICAgICAgICAgbWluQWxwaGFEZWNheTogNDAwXHJcbiAgICAgICAgICAgIG1heEFscGhhRGVjYXk6IDQ1MFxyXG4gICAgICAgICAgICBtaW5PbWVnYTogMC4wMDFcclxuICAgICAgICAgICAgbWF4T21lZ2E6IDAuMDAxXHJcbiAgICAgICAgQGVtaXR0ZXIuYXV0byA9IGZhbHNlXHJcbiAgICAgICAgQGVtaXR0ZXIucG9zaXRpb24gPSBAcG9zaXRpb24uQ2xvbmUoKVxyXG4gICAgICAgICNAZW1pdHRlci5FbWl0UGFydGljbGVzKHRydWUpXHJcblxyXG4gICAgICAgIEBUcmFzaCgpXHJcblxyXG4gICAgICAgIGlmIE1hdGgucmFuZG9tKCkgPCAwLjJcclxuICAgICAgICAgICAgQHBvd2VydXBHZW5lcmF0b3IuR2VuZXJhdGUoKVxyXG5cclxuICAgIFVwZGF0ZTogLT5cclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgaWYgQGhwIDw9IDBcclxuICAgICAgICAgICAgQEtpbGwoKVxyXG5cclxuICAgICAgICAgICAgQGdhbWUuc2NvcmUgKz0gMTBcclxuXHJcbiAgICBTdGFnZUF0dGFjazogLT5cclxuICAgICAgICBARWZmZWN0cy5UcmFpbCgpXHJcblxyXG4gICAgR2V0TW90aGVyc2hpcFZlY3RvcjogLT5cclxuICAgICAgICBkaXIgPSBAcG9zaXRpb24uQ2xvbmUoKVxyXG4gICAgICAgIGRpci5TdWJ0cmFjdFZlY3RvciggQGdhbWUubW90aGVyU2hpcC5wb3NpdGlvbiApXHJcbiAgICAgICAgZGlyLk11bHRpcGx5U2NhbGFyKC0xKVxyXG4gICAgICAgIGRpci5Ob3JtYWxpemUoKVxyXG5cclxuICAgICAgICByZXR1cm4gZGlyXHJcblxyXG4gICAgR2V0RGlzdGFuY2VUb01vdGhlclNoaXBDZW50ZXI6IC0+XHJcbiAgICAgICAgZGlzID0gQHBvc2l0aW9uLkNsb25lKClcclxuICAgICAgICBtcyA9IEBnYW1lLm1vdGhlclNoaXAucG9zaXRpb24uQ2xvbmUoKVxyXG5cclxuICAgICAgICBtcy54ICs9IEBnYW1lLm1vdGhlclNoaXAucmVjdGFuZ2xlLndpZHRoIC8gMlxyXG4gICAgICAgIG1zLnkgKz0gQGdhbWUubW90aGVyU2hpcC5yZWN0YW5nbGUuaGVpZ2h0IC8gMlxyXG5cclxuICAgICAgICBkaXMuU3VidHJhY3RWZWN0b3IobXMpXHJcblxyXG4gICAgICAgIHJldHVybiBkaXMubWFnbml0dWRlXHJcblxyXG5jbGFzcyBleHBvcnRzLkRpdmVyRW5lbXkgZXh0ZW5kcyBleHBvcnRzLkVuZW15XHJcbiAgICBzdGFydFZlbG9jaXR5OiAwLjJcclxuICAgIGF0dGFja1ZlbG9jaXR5OiAwLjRcclxuICAgIGF0dGFja0Rpc3RhbmNlOiAzMDBcclxuICAgIGNvbnN0cnVjdG9yOiAoZ2FtZSwgeCwgeSkgLT5cclxuICAgICAgICBzdXBlciggZ2FtZSwgeCwgeSApXHJcblxyXG4gICAgICAgIEBDb2xsaXNpb25zLk1vbml0b3IoKVxyXG5cclxuICAgICAgICBAT24gXCJDb2xsaXNpb25cIiwgKGV2ZW50KSA9PlxyXG4gICAgICAgICAgICBvYmogPSBldmVudC5jb2xsaXNpb25EYXRhLmNvbGxpZGVyXHJcblxyXG4gICAgICAgICAgICBpZiBvYmouTU9USEVSU0hJUFxyXG4gICAgICAgICAgICAgICAgb2JqLkVtaXQoIFwiRGFtYWdlZFwiLCBkYW1hZ2U6QGRhbWFnZSApXHJcbiAgICAgICAgICAgICAgICBAS2lsbCgpXHJcblxyXG4gICAgU3RhZ2VBdHRhY2s6IC0+XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIEBCb2R5LnZlbG9jaXR5Lk5vcm1hbGl6ZSgpXHJcbiAgICAgICAgQEJvZHkudmVsb2NpdHkuTXVsdGlwbHlTY2FsYXIoIEBhdHRhY2tWZWxvY2l0eSApXHJcblxyXG5jbGFzcyBleHBvcnRzLlNob290ZXJFbmVteSBleHRlbmRzIGV4cG9ydHMuRW5lbXlcclxuICAgIHBvaW50czogMjBcclxuICAgIGhwOiAyXHJcbiAgICB0ZXh0dXJlTmFtZTogXCJlbmVteS1zaG9vdGVyXCJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcjogKGdhbWUsIHgsIHkpIC0+XHJcbiAgICAgICAgc3VwZXIoIGdhbWUsIHgsIHkgKVxyXG5cclxuICAgIFVwZGF0ZTogLT5cclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgICAgICMgcm9hdGF0ZSBhdCB0aGUgbW90aGVyU2hpcFxyXG4gICAgICAgIHAgPSBAcG9zaXRpb24uQ2xvbmUoKVxyXG4gICAgICAgIHAuU3VidHJhY3RWZWN0b3IoIEBnYW1lLm1vdGhlclNoaXAucG9zaXRpb24gKVxyXG5cclxuICAgICAgICBhbmdsZSA9IHAuYW5nbGUgLSBNYXRoLlBJXHJcbiAgICAgICAgQHJvdGF0aW9uID0gLWFuZ2xlXHJcblxyXG4gICAgU3RhZ2VBdHRhY2s6IC0+XHJcbiAgICAgICAgQG9yYml0ID0gdHJ1ZVxyXG4gICAgICAgIEBFZmZlY3RzLlRyYWlsKClcclxuICAgICAgICBAQm9keS52ZWxvY2l0eS5TZXQoMCwwKVxyXG4gICAgICAgIEBCb2R5Lk9yYml0KCBAZ2FtZS5tb3RoZXJTaGlwLCAwLjAwMSwgNDAwIClcclxuXHJcbiAgICAgICAgc2NoZWR1bGVkRXZlbnQgPSBAZ2FtZS5UaW1lci5TZXRTY2hlZHVsZWRFdmVudCAzMDAsID0+XHJcbiAgICAgICAgICAgIHAgPSBAcG9zaXRpb24uQ2xvbmUoKVxyXG4gICAgICAgICAgICBwLlN1YnRyYWN0VmVjdG9yKCBAZ2FtZS5tb3RoZXJTaGlwLnBvc2l0aW9uIClcclxuICAgICAgICAgICAgcC5Ob3JtYWxpemUoKVxyXG4gICAgICAgICAgICBwLk11bHRpcGx5U2NhbGFyKC0xLjUpXHJcblxyXG4gICAgICAgICAgICByb3QgPSBAcm90YXRpb24gLSBNYXRoLlBJLzJcclxuICAgICAgICAgICAgY29yZFggPSBNYXRoLmNvcyggcm90IClcclxuICAgICAgICAgICAgY29yZFkgPSBNYXRoLnNpbiggcm90IClcclxuXHJcbiAgICAgICAgICAgIHggPSBAcG9zaXRpb24ueCArICggKEByZWN0YW5nbGUud2lkdGggLyAyKSAqIGNvcmRYICkgKyBAcmVjdGFuZ2xlLndpZHRoLzJcclxuICAgICAgICAgICAgeSA9IEBwb3NpdGlvbi55ICsgKCAoQHJlY3RhbmdsZS5oZWlnaHQgLyAyKSAqIGNvcmRZICkgKyBAcmVjdGFuZ2xlLmhlaWdodC8yXHJcblxyXG4gICAgICAgICAgICB4IC09IGNvcmRYICogQHJlY3RhbmdsZS53aWR0aFxyXG4gICAgICAgICAgICB5IC09IGNvcmRZICogQHJlY3RhbmdsZS5oZWlnaHRcclxuXHJcbiAgICAgICAgICAgIHAxID0gbmV3IFNob290ZXJFbmVteVByb2plY3RpbGUgQCxcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogcFxyXG4gICAgICAgICAgICAgICAgeDogeFxyXG4gICAgICAgICAgICAgICAgeTogeVxyXG5cclxuICAgICAgICAgICAgcDEucG9zaXRpb24ueCAtPSBwMS5yZWN0YW5nbGUud2lkdGgvMlxyXG4gICAgICAgICAgICBwMS5wb3NpdGlvbi55IC09IHAxLnJlY3RhbmdsZS5oZWlnaHQvMlxyXG5cclxuICAgICAgICAgICAgcDEuZHJhd0luZGV4ID0gLTFcclxuXHJcbiAgICAgICAgQE9uIFwiVHJhc2hcIiwgLT5cclxuICAgICAgICAgICAgc2NoZWR1bGVkRXZlbnQuVHJhc2goKVxyXG5cclxuY2xhc3MgRW50ZXJTdGF0ZVxyXG4gICAgRXhlY3V0ZTogKGVuZW15KSAtPlxyXG4gICAgICAgIGlmIGVuZW15LkdldERpc3RhbmNlVG9Nb3RoZXJTaGlwQ2VudGVyKCkgPD0gZW5lbXkuYXR0YWNrRGlzdGFuY2VcclxuICAgICAgICAgICAgQHN0YXRlTWFjaGluZS5Td2l0Y2goXCJhdHRhY2tcIilcclxuXHJcbiAgICBTdGFydDogKGVuZW15KSAtPlxyXG5cclxuICAgIEVuZDogKGVuZW15KSAtPlxyXG5cclxuY2xhc3MgQXR0YWNrU3RhdGVcclxuICAgIEV4ZWN1dGU6IChlbmVteSkgLT5cclxuXHJcbiAgICBTdGFydDogKGVuZW15KSAtPlxyXG4gICAgICAgIGVuZW15LlN0YWdlQXR0YWNrKClcclxuXHJcbiAgICBFbmQ6IChlbmVteSkgLT5cclxuIl19
//# sourceURL=C:\dev\js\Torch.js\Games\OpenSpace\Src\Enemy.coffee